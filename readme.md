# StayEasy API ЁЯПи

р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╕Др╕╖р╕нр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З RESTful API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Ир╕нр╕Зр╕лр╣Йр╕нр╕Зр╕Юр╕▒р╕Б/р╣Вр╕гр╕Зр╣Бр╕гр╕бр╕нр╕вр╣Ир╕▓р╕Зр╕Зр╣Ир╕▓р╕в (StayEasy) р╣Вр╕Фр╕вр╣Гр╕Кр╣Й Java Spring Boot р╕Юр╕▒р╕Тр╕Щр╕▓р╣Вр╕Фр╕вр╕бр╕╡ AI Agent (Gemini) р╣Ар╕Ыр╣Зр╕Щр╕Ьр╕╣р╣Йр╕Кр╣Ир╕зр╕вр╣Гр╕Щр╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╣Бр╕ер╕░р╣Гр╕лр╣Йр╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│

## ЁЯОп р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╕Вр╕нр╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М
р╕кр╕гр╣Йр╕▓р╕З Backend API р╕Чр╕╡р╣Ир╕бр╕╡р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в (Secure), р╕Чр╕Фр╕кр╕нр╕Ър╣Др╕Фр╣Й (Testable) р╣Бр╕ер╕░р╕Вр╕вр╕▓р╕вр╕Ьр╕ер╣Др╕Фр╣Й (Scalable) р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕лр╕ер╕▒р╕Бр╣Ж р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ър╕Ир╕нр╕Зр╕Чр╕╡р╣Ир╕Юр╕▒р╕Б

---

## ЁЯЪА Tech Stack
* **Language:** Java 17+
* **Framework:** Spring Boot 3+
* **Core:** Spring Web, Spring Security
* **Data:** Spring Data JPA
* **Database:** H2 (In-Memory) (р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓) / PostgreSQL (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Production)
* **Security:** JWT (JSON Web Token)
* **Build Tool:** Maven
* **Testing:** JUnit 5, Mockito

---

## ЁЯЧ║я╕П р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓ (Project Steps)

р╕Щр╕╡р╣Ир╕Др╕╖р╕нр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕лр╕ер╕▒р╕Бр╕Чр╕╡р╣Ир╣Ар╕гр╕▓р╣Др╕Фр╣Йр╕Чр╕│р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Гр╕лр╣Йр╕кр╕│р╣Ар╕гр╣Зр╕И:

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ (Setup) - (тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ)
1.  **Generate Project:** р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Фр╣Йр╕зр╕в Spring Initializr
2.  **Add Dependencies:** р╣Ар╕Юр╕┤р╣Ир╕б Dependencies р╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╣Гр╕Щ `pom.xml`
3.  **Git & GitHub:** р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ Git, р╕кр╕гр╣Йр╕▓р╕З `.gitignore`, р╣Бр╕ер╕░ Push р╣Вр╕Др╕гр╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕Ър╕Ър╕Ир╕│р╕ер╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е (Data Models) - (тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ)
1.  **Create Entities:** `User.java`, `Role.java`, `Room.java`, `Booking.java`
2.  **Repositories:** `UserRepository`, `RoomRepository`, `BookingRepository`
3.  **Database Config:** р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ `application.properties` (р╕кр╕│р╕лр╕гр╕▒р╕Ъ H2)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ър╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в (Security) - (тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ)
1.  **User Service:** р╕кр╕гр╣Йр╕▓р╕З `UserDetailsServiceImpl`
2.  **JWT Utilities:** р╕кр╕гр╣Йр╕▓р╕З `JwtTokenProvider` р╣Бр╕ер╕░ `JwtAuthenticationFilter`
3.  **Security Config:** р╕кр╕гр╣Йр╕▓р╕З `SecurityConfig` (р╕Бр╕│р╕лр╕Щр╕Фр╕Бр╕Ор╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З, PasswordEncoder, AuthManager)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б (Business Logic) - (тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ)
1.  **DTOs:** р╕кр╕гр╣Йр╕▓р╕З DTOs (Request/Response) р╕кр╕│р╕лр╕гр╕▒р╕Ъ Auth, Room, р╣Бр╕ер╕░ Booking
2.  **Auth Service/Controller:** р╕кр╕гр╣Йр╕▓р╕З API (`/api/auth/**`) р╕кр╕│р╕лр╕гр╕▒р╕Ъ Register р╣Бр╕ер╕░ Login
3.  **Data Initializer:** р╕кр╕гр╣Йр╕▓р╕З `DataInitializer` р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕З `ROLE_ADMIN` р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4.  **Admin Features:** р╕кр╕гр╣Йр╕▓р╕З API (`/api/rooms/**`) р╕кр╕│р╕лр╕гр╕▒р╕Ъ Admin (р╕кр╕гр╣Йр╕▓р╕Зр╕лр╣Йр╕нр╕Зр╕Юр╕▒р╕Б)
5.  **User Features:** р╕кр╕гр╣Йр╕▓р╕З API (`/api/bookings/**`) р╕кр╕│р╕лр╕гр╕▒р╕Ъ User (р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕▓р╕гр╕Ир╕нр╕З, р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 5: р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ (Testing) - (р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы)
1.  **(Manual):** р╕Чр╕Фр╕кр╕нр╕Ъ API Endpoints р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Фр╣Йр╕зр╕в Postman (тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ)
2.  **(Next Step):** р╣Ар╕Вр╕╡р╕вр╕Щ Unit Tests р╕кр╕│р╕лр╕гр╕▒р╕Ъ Service classes
3.  **(Next Step):** р╣Ар╕Вр╕╡р╕вр╕Щ Integration Tests р╕кр╕│р╕лр╕гр╕▒р╕Ъ API Endpoints

---

## тЪЩя╕П р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕гр╕▒р╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М (How to Run)

1.  Clone a project
    ```bash
    git clone [https://github.com/](https://github.com/)[YourUsername]/stayeasy-api.git
    ```
2.  (р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Гр╕Кр╣Й H2 In-Memory Database р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Database р╣Ар╕Юр╕┤р╣Ир╕б)
3.  р╕гр╕▒р╕Щр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ
    ```bash
    mvn spring-boot:run
    ```

---

## ЁЯФС API Endpoints

### 1. Authentication (`/api/auth`)
* `POST /register`: р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б (Public)
* `POST /login`: р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ (Public)

### 2. Rooms (`/api/rooms`)
* `POST /`: р╕кр╕гр╣Йр╕▓р╕Зр╕лр╣Йр╕нр╕Зр╕Юр╕▒р╕Бр╣Гр╕лр╕бр╣И (**р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й Token Admin**)
* `GET /`: р╕Фр╕╣р╕лр╣Йр╕нр╕Зр╕Юр╕▒р╕Бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (**р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й Token User/Admin**)

### 3. Bookings (`/api/bookings`)
* `POST /`: р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕▓р╕гр╕Ир╕нр╕Зр╣Гр╕лр╕бр╣И (**р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й Token User/Admin**)
* `GET /my-history`: р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Ир╕нр╕Зр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ (**р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й Token User/Admin**)

---
*р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Щр╕╡р╣Йр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░р╕Фр╕╣р╣Бр╕ер╣Вр╕Фр╕в AI Agent (Gemini) р╕Ыр╕гр╕░р╕Ир╕│р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М (р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф: 18 р╕Ю.р╕в. 2025)*